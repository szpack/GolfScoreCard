<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Golf Overlay Generator</title>
<style>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOKENS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
:root{
  --c-green:#00573F; --c-gold:#C9A84C; --c-gold-lt:#e8c96a;
  --c-pos:#f87171; --c-neu:#60a5fa; --c-neg:#9ca3af; --c-acc:#C9A84C;
  --c-chip:#f59e0b; --c-putt:#a78bfa; --c-eagle:#fbbf24;
  --c-bg:#0d1117; --c-panel:#161b22; --c-border:rgba(255,255,255,.08);
  --c-text:rgba(255,255,255,.85); --c-muted:rgba(255,255,255,.35);
  --f-d:'Barlow Condensed','Arial Narrow',sans-serif;
  --f-b:'Barlow',Arial,sans-serif;
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;overflow:hidden}
body{background:var(--c-bg);color:var(--c-text);font-family:var(--f-b);font-size:14px;display:flex;flex-direction:column}
button{font-family:var(--f-d);cursor:pointer;border:none;outline:none;-webkit-tap-highlight-color:transparent}
input{font-family:var(--f-d);outline:none;-webkit-tap-highlight-color:transparent}
select{font-family:var(--f-d);outline:none;background:var(--c-panel);color:var(--c-text);border:1px solid var(--c-border);border-radius:4px;padding:0 8px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LAYOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.app{display:flex;flex-direction:column;height:100vh;max-height:100dvh}

/* Header */
.hdr{display:flex;align-items:center;justify-content:space-between;padding:8px 16px;background:var(--c-panel);border-bottom:1px solid var(--c-border);flex-shrink:0;gap:8px;flex-wrap:wrap}
.hdr-left{display:flex;align-items:center;gap:12px}
.app-title{font-family:var(--f-d);font-size:16px;font-weight:800;letter-spacing:2.5px;text-transform:uppercase;color:var(--c-gold);white-space:nowrap}
.app-sub{font-size:9px;color:var(--c-muted);letter-spacing:1px;white-space:nowrap}
.hdr-right{display:flex;align-items:center;gap:6px;flex-wrap:wrap}

/* Aspect ratio + safe-zone toolbar */
.asp-grp,.tool-grp{display:flex;gap:3px}
.asp-btn,.tool-btn{height:26px;padding:0 10px;border-radius:3px;font-size:10px;font-weight:700;letter-spacing:.5px;border:1px solid var(--c-border);background:rgba(255,255,255,.05);color:var(--c-muted);transition:all .15s;white-space:nowrap}
.asp-btn:hover,.tool-btn:hover{background:rgba(255,255,255,.1);color:#fff}
.asp-btn.on{background:rgba(201,168,76,.2);border-color:var(--c-gold);color:var(--c-gold)}
.tool-btn.on{background:rgba(255,200,0,.12);border-color:rgba(255,200,0,.3);color:rgba(255,200,0,.8)}

/* Preview section */
.preview-section{flex:1;display:flex;align-items:center;justify-content:center;background:#080c12;overflow:hidden;position:relative;min-height:0}
.preview-frame{position:relative;max-height:100%;max-width:100%}
/* aspect ratios via container trick */
.preview-frame[data-asp="169"]{aspect-ratio:16/9;height:min(100%,calc(100vw * 9/16));width:min(100%,calc(100vh * 16/9))}
.preview-frame[data-asp="916"]{aspect-ratio:9/16;height:min(100%,calc(100vw * 16/9));width:min(30%,calc(100vh * 9/16))}
.preview-frame[data-asp="11"] {aspect-ratio:1/1; height:min(100%,100vw);width:min(100%,100vh)}
.preview-inner{position:absolute;inset:0;background:#111820;overflow:hidden}

/* safe zone lines */
.sz-t,.sz-b{position:absolute;left:0;right:0;border-top:1px dashed rgba(255,200,0,.4);pointer-events:none;transition:opacity .2s}
.sz-t{top:8%}
.sz-b{top:90%}
.sz-lbl{position:absolute;left:6px;top:3px;font-size:8px;letter-spacing:1px;color:rgba(255,200,0,.5);font-family:var(--f-d);text-transform:uppercase}
.preview-frame.safe-hidden .sz-t,.preview-frame.safe-hidden .sz-b{opacity:0}
.preview-bg{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-family:var(--f-d);font-size:clamp(10px,2vw,20px);letter-spacing:4px;text-transform:uppercase;color:rgba(255,255,255,.05);pointer-events:none;user-select:none}

/* Overlay anchor: bottom-left */
.ov-anchor{position:absolute;bottom:6%;left:3%;transform-origin:left bottom}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê OVERLAY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.ov{display:flex;align-items:stretch;height:88px;overflow:hidden;filter:drop-shadow(0 4px 20px rgba(0,0,0,.75));font-family:var(--f-d)}
@keyframes ovIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

.ov-left{background:var(--c-green);width:84px;display:flex;flex-direction:column;align-items:center;justify-content:center;flex-shrink:0;gap:1px}
.ov-hole-lbl{font-size:8px;letter-spacing:3px;color:rgba(255,255,255,.5);text-transform:uppercase;font-weight:600;line-height:1}
.ov-hole-num{font-size:44px;font-weight:900;color:#fff;line-height:.9;letter-spacing:-2px}
.ov-par-sub{font-size:10px;font-weight:700;letter-spacing:1px;color:var(--c-gold);text-transform:uppercase;margin-top:1px}

.ov-div{width:3px;background:var(--c-gold);flex-shrink:0}

.ov-right{background:rgba(6,10,16,.97);display:flex;flex-direction:column;flex:1;min-width:220px}

/* Top info row */
.ov-top{display:flex;align-items:center;padding:8px 14px 6px;flex:1;border-bottom:1px solid rgba(255,255,255,.05)}
.ov-yards-block{display:flex;flex-direction:column;flex-shrink:0}
.ov-yards-lbl{font-size:7.5px;letter-spacing:2.5px;color:rgba(255,255,255,.35);text-transform:uppercase;font-weight:600;line-height:1}
.ov-yards-val{font-size:28px;font-weight:900;color:rgba(255,255,255,.92);line-height:1.05;letter-spacing:-1px}
.ov-yards-unit{font-size:10px;color:rgba(255,255,255,.28);font-weight:500;margin-left:2px;letter-spacing:0}
.ov-vsep{width:1px;height:26px;background:rgba(255,255,255,.1);margin:0 12px;flex-shrink:0}
.ov-type{display:flex;align-items:center;gap:6px;flex-shrink:0}
.ov-type-dot{width:5px;height:5px;border-radius:50%;flex-shrink:0;animation:dotPulse 2.2s ease-in-out infinite}
@keyframes dotPulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.4;transform:scale(.55)}}
.ov-type-txt{font-size:12px;font-weight:700;letter-spacing:2px;text-transform:uppercase;white-space:nowrap}
.ov-result-wrap{margin-left:auto;padding-left:10px;display:flex;align-items:center}
.ov-result{font-size:11px;font-weight:800;letter-spacing:2px;text-transform:uppercase;padding:3px 9px;border-radius:3px;white-space:nowrap;opacity:0;transition:opacity .3s}
.ov-result.vis{opacity:1}

/* Shot pips row */
.ov-pips{display:flex;align-items:center;padding:0 12px;height:26px;gap:4px;background:rgba(0,0,0,.28)}
.ov-pips-lbl{font-size:7px;letter-spacing:2px;color:rgba(255,255,255,.2);text-transform:uppercase;font-weight:600;margin-right:4px;white-space:nowrap}
.pip{height:14px;width:24px;border-radius:2px;display:flex;align-items:center;justify-content:center;font-size:9.5px;font-weight:800;flex-shrink:0;transition:all .2s}
.pip.empty{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.09);color:rgba(255,255,255,.12)}
.pip.done{background:rgba(255,255,255,.14);color:rgba(255,255,255,.4)}
.pip.cur{background:var(--c-gold);color:#000;box-shadow:0 0 8px rgba(201,168,76,.5)}

/* status colours */
.dt-tee{background:#fff;box-shadow:0 0 6px rgba(255,255,255,.6)} .tt-tee{color:#fff}
.dt-approach{background:#60a5fa;box-shadow:0 0 6px rgba(96,165,250,.7)} .tt-approach{color:#60a5fa}
.dt-chip{background:#f59e0b;box-shadow:0 0 6px rgba(245,158,11,.7)} .tt-chip{color:#f59e0b}
.dt-putt{background:#a78bfa;box-shadow:0 0 6px rgba(167,139,250,.7)} .tt-putt{color:#a78bfa}
/* result colours */
.rr-ace,.rr-eagle{background:rgba(251,191,36,.18);color:#fbbf24;border:1px solid rgba(251,191,36,.4)}
.rr-birdie{background:rgba(248,113,113,.18);color:#f87171;border:1px solid rgba(248,113,113,.4)}
.rr-par{background:rgba(96,165,250,.16);color:#60a5fa;border:1px solid rgba(96,165,250,.35)}
.rr-bogey{background:rgba(156,163,175,.14);color:#9ca3af;border:1px solid rgba(156,163,175,.3)}
.rr-double,.rr-worse{background:rgba(107,114,128,.14);color:#6b7280;border:1px solid rgba(107,114,128,.28)}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONTROL PANEL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.ctrl-panel{flex-shrink:0;background:var(--c-panel);border-top:1px solid var(--c-border);padding:12px 16px 14px;display:flex;flex-direction:column;gap:10px;overflow-y:auto;max-height:46vh}

.cp-rows{display:flex;gap:10px;flex-wrap:wrap}
.cp-sec{background:rgba(255,255,255,.03);border:1px solid var(--c-border);border-radius:6px;padding:9px 12px 10px;display:flex;flex-direction:column;gap:7px}
.cp-sec-title{font-size:8.5px;letter-spacing:2.5px;text-transform:uppercase;color:var(--c-muted);font-family:var(--f-d);font-weight:600}

/* Spinner */
.spin{display:flex;align-items:center;gap:5px}
.spin-btn{width:34px;height:34px;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:4px;color:#fff;font-size:20px;font-weight:300;display:flex;align-items:center;justify-content:center;transition:background .15s;touch-action:manipulation;flex-shrink:0}
.spin-btn:hover{background:rgba(255,255,255,.14)} .spin-btn:active{background:rgba(255,255,255,.22)}
.spin-val{background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.1);color:#fff;text-align:center;font-family:var(--f-d);font-size:20px;font-weight:800;border-radius:4px;width:52px;height:34px;-moz-appearance:textfield}
.spin-val::-webkit-outer-spin-button,.spin-val::-webkit-inner-spin-button{-webkit-appearance:none}

/* par selector */
.par-row{display:flex;gap:4px}
.par-btn{flex:1;height:34px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:4px;color:rgba(255,255,255,.55);font-size:14px;font-weight:700;transition:all .15s;touch-action:manipulation}
.par-btn:hover{background:rgba(255,255,255,.12);color:#fff}
.par-btn.on{background:var(--c-green);border-color:var(--c-green);color:#fff}

/* pill buttons (shot type / result) */
.pill-row{display:flex;gap:4px;flex-wrap:wrap}
.pill{padding:7px 11px;border-radius:4px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.09);color:rgba(255,255,255,.5);font-size:11px;font-weight:700;letter-spacing:.8px;text-transform:uppercase;transition:all .15s;touch-action:manipulation;white-space:nowrap}
.pill:hover{background:rgba(255,255,255,.12);color:#fff}
.pill.on-tee{background:rgba(255,255,255,.18);border-color:rgba(255,255,255,.5);color:#fff}
.pill.on-approach{background:rgba(96,165,250,.2);border-color:#60a5fa;color:#60a5fa}
.pill.on-chip{background:rgba(245,158,11,.18);border-color:#f59e0b;color:#f59e0b}
.pill.on-putt{background:rgba(167,139,250,.2);border-color:#a78bfa;color:#a78bfa}
.pill.on-ace,.pill.on-eagle{background:rgba(251,191,36,.2);border-color:#fbbf24;color:#fbbf24}
.pill.on-birdie{background:rgba(248,113,113,.2);border-color:#f87171;color:#f87171}
.pill.on-par{background:rgba(96,165,250,.18);border-color:#60a5fa;color:#60a5fa}
.pill.on-bogey{background:rgba(156,163,175,.15);border-color:#9ca3af;color:#9ca3af}
.pill.on-double,.pill.on-worse{background:rgba(107,114,128,.15);border-color:#6b7280;color:#6b7280}

/* checkbox toggle */
.chk{display:flex;align-items:center;gap:7px;cursor:pointer;-webkit-tap-highlight-color:transparent;padding:4px 6px;border-radius:4px;transition:background .15s}
.chk:hover{background:rgba(255,255,255,.06)}
.chk-box{width:18px;height:18px;min-width:18px;border:2px solid rgba(255,255,255,.25);border-radius:3px;background:rgba(255,255,255,.04);display:flex;align-items:center;justify-content:center;transition:all .15s;pointer-events:none}
.chk-box svg{display:none;width:10px;height:10px}
.chk.on .chk-box{background:var(--c-gold);border-color:var(--c-gold)}
.chk.on .chk-box svg{display:block}
.chk.on .chk-lbl{color:rgba(255,255,255,.85)}
.chk-lbl{font-size:10.5px;letter-spacing:1.5px;text-transform:uppercase;font-family:var(--f-d);color:rgba(255,255,255,.4);transition:color .15s;white-space:nowrap}

/* dist inline input */
.dist-row{display:flex;align-items:center;gap:5px}
.dist-input{background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.1);color:#fff;text-align:center;font-family:var(--f-d);font-size:16px;font-weight:700;border-radius:4px;width:68px;height:32px;-moz-appearance:textfield}
.dist-input::-webkit-inner-spin-button{-webkit-appearance:none}
.dist-unit{font-size:10px;color:var(--c-muted);letter-spacing:1px;font-family:var(--f-d)}

/* action row */
.act-row{display:flex;gap:7px;align-items:center;flex-wrap:wrap}
.btn-next{flex:1;min-width:130px;height:46px;background:var(--c-green);border:none;border-radius:5px;color:#fff;font-size:14px;font-weight:800;letter-spacing:2px;text-transform:uppercase;display:flex;align-items:center;justify-content:center;gap:7px;transition:background .15s;touch-action:manipulation}
.btn-next:hover{background:#006b4e} .btn-next:active{opacity:.85}
.btn-newhole{height:46px;padding:0 16px;background:rgba(201,168,76,.14);border:1px solid rgba(201,168,76,.35);border-radius:5px;color:var(--c-gold);font-size:12px;font-weight:800;letter-spacing:1.5px;text-transform:uppercase;transition:all .15s;touch-action:manipulation;white-space:nowrap}
.btn-newhole:hover{background:rgba(201,168,76,.25)}
.btn-undo{width:46px;height:46px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:5px;color:rgba(255,255,255,.5);font-size:20px;display:flex;align-items:center;justify-content:center;transition:all .15s;touch-action:manipulation}
.btn-undo:hover{background:rgba(255,255,255,.12);color:#fff}
.btn-undo:disabled{opacity:.22;cursor:default}

/* export row */
.exp-row{display:flex;gap:6px;align-items:center;flex-wrap:wrap}
.btn-export{display:flex;align-items:center;gap:8px;height:42px;padding:0 18px;background:linear-gradient(135deg,#C9A84C,#e8c96a,#C9A84C);border:none;border-radius:5px;color:#1a1200;font-size:13px;font-weight:800;letter-spacing:2px;text-transform:uppercase;box-shadow:0 3px 14px rgba(201,168,76,.3);transition:all .2s;touch-action:manipulation;white-space:nowrap}
.btn-export:hover{transform:translateY(-1px);box-shadow:0 5px 22px rgba(201,168,76,.45)}
.btn-export:active{transform:none} .btn-export:disabled{opacity:.45;cursor:default;transform:none}
.btn-export svg{width:13px;height:13px;flex-shrink:0}
.fmt-btn{height:32px;padding:0 11px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:4px;color:rgba(255,255,255,.5);font-size:10.5px;font-weight:600;letter-spacing:1px;transition:all .15s;touch-action:manipulation}
.fmt-btn:hover{background:rgba(255,255,255,.12);color:#fff}
.fmt-btn.on{background:rgba(201,168,76,.18);border-color:var(--c-gold);color:var(--c-gold)}
.res-sel{height:32px;font-size:11px;font-weight:600;cursor:pointer}
.exp-fb{font-size:10px;letter-spacing:1.5px;color:rgba(255,255,255,.4);font-family:var(--f-d);opacity:0;transition:opacity .3s;white-space:nowrap}
.exp-fb.vis{opacity:1}

/* status bar */
.statusbar{display:flex;align-items:center;gap:8px;padding:5px 16px;border-top:1px solid var(--c-border);background:var(--c-panel);font-size:10px;letter-spacing:1px;color:var(--c-muted);font-family:var(--f-d);flex-shrink:0}
.live-dot{width:6px;height:6px;border-radius:50%;background:#22c55e;box-shadow:0 0 5px #22c55e;animation:lp 1.6s ease-in-out infinite;flex-shrink:0}
@keyframes lp{0%,100%{opacity:1}50%{opacity:.3}}

/* auto badge */
.auto-badge{font-size:8px;padding:1px 6px;border-radius:8px;background:rgba(201,168,76,.15);border:1px solid rgba(201,168,76,.3);color:var(--c-gold);letter-spacing:1px;font-family:var(--f-d)}

@media(max-width:600px){
  .hdr{padding:6px 10px}
  .ctrl-panel{padding:10px 10px 12px;max-height:52vh}
  .cp-rows{gap:7px}
  .ov-right{min-width:160px}
  .ov-yards-val{font-size:22px}
}
</style>
</head>
<body>
<div class="app">

<!-- ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ -->
<header class="hdr">
  <div class="hdr-left">
    <div>
      <div class="app-title">Golf Overlay</div>
      <div class="app-sub">v2 ¬∑ PGA TOUR STYLE</div>
    </div>
  </div>
  <div class="hdr-right">
    <div class="asp-grp" id="aspGrp">
      <button class="asp-btn on" onclick="setAsp('169',this)">16:9</button>
      <button class="asp-btn"   onclick="setAsp('916',this)">9:16</button>
      <button class="asp-btn"   onclick="setAsp('11',this)">1:1</button>
    </div>
    <div class="tool-grp">
      <button class="tool-btn" id="btnSafe" onclick="toggleSafe()">SAFE ZONE</button>
    </div>
  </div>
</header>

<!-- ‚îÄ‚îÄ PREVIEW ‚îÄ‚îÄ -->
<section class="preview-section">
  <div class="preview-frame safe-hidden" id="previewFrame" data-asp="169">
    <div class="preview-inner">
      <div class="preview-bg" id="previewBg">16 : 9 ¬∑ PREVIEW</div>
      <div class="sz-t"><span class="sz-lbl">Safe 8%</span></div>
      <div class="sz-b"><span class="sz-lbl">Safe 90%</span></div>
      <!-- OVERLAY -->
      <div class="ov-anchor" id="ovAnchor">
        <div class="ov" id="ov">
          <div class="ov-left">
            <div class="ov-hole-lbl">HOLE</div>
            <div class="ov-hole-num" id="ovNum">1</div>
            <div class="ov-par-sub"  id="ovPar">PAR 4</div>
          </div>
          <div class="ov-div"></div>
          <div class="ov-right">
            <div class="ov-top">
              <div class="ov-yards-block" id="ovYardsBlock">
                <div class="ov-yards-lbl" id="ovYardsLbl">HOLE</div>
                <div class="ov-yards-val" id="ovYardsVal">385<span class="ov-yards-unit">YDS</span></div>
              </div>
              <div class="ov-vsep" id="ovVsep"></div>
              <div class="ov-type" id="ovType">
                <div class="ov-type-dot dt-tee" id="ovDot"></div>
                <div class="ov-type-txt tt-tee" id="ovTypeTxt">TEE SHOT</div>
              </div>
              <div class="ov-result-wrap">
                <div class="ov-result" id="ovResult"></div>
              </div>
            </div>
            <div class="ov-pips" id="ovPips">
              <div class="ov-pips-lbl">SHOT</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ‚îÄ‚îÄ CONTROL PANEL ‚îÄ‚îÄ -->
<div class="ctrl-panel">
  <div class="cp-rows">

    <!-- Hole -->
    <div class="cp-sec" style="flex:0 0 auto">
      <div class="cp-sec-title">Hole</div>
      <div class="spin">
        <button class="spin-btn" onclick="adj('holeNumber',-1)">‚àí</button>
        <input  class="spin-val" id="inHole" type="number" min="1" max="18" value="1" oninput="inp('holeNumber',this.value,1,18)">
        <button class="spin-btn" onclick="adj('holeNumber',1)">+</button>
      </div>
    </div>

    <!-- Par -->
    <div class="cp-sec" style="flex:0 0 auto">
      <div class="cp-sec-title">Par</div>
      <div class="par-row">
        <button class="par-btn" onclick="setPar(3,this)">3</button>
        <button class="par-btn on" id="par4" onclick="setPar(4,this)">4</button>
        <button class="par-btn" onclick="setPar(5,this)">5</button>
      </div>
    </div>

    <!-- Options: yards + status toggles + distance input -->
    <div class="cp-sec" style="flex:1;min-width:180px">
      <div class="cp-sec-title">Display Options</div>
      <div style="display:flex;gap:4px;flex-wrap:wrap;align-items:center">
        <div class="chk on" id="chkYards" onclick="togOpt('showYards')">
          <span class="chk-box"><svg viewBox="0 0 10 8" fill="none" stroke="#000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="1,4 4,7 9,1"/></svg></span>
          <span class="chk-lbl">Yards</span>
        </div>
        <div class="chk on" id="chkStatus" onclick="togOpt('showStatus')">
          <span class="chk-box"><svg viewBox="0 0 10 8" fill="none" stroke="#000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="1,4 4,7 9,1"/></svg></span>
          <span class="chk-lbl">Status</span>
        </div>
      </div>
      <div class="dist-row" id="distRow">
        <button class="spin-btn" style="width:30px;height:30px;font-size:16px" onclick="adj('yards',-5)">‚àí</button>
        <input class="dist-input" id="inYards" type="number" min="0" max="700" value="385" oninput="inp('yards',this.value,0,700)">
        <button class="spin-btn" style="width:30px;height:30px;font-size:16px" onclick="adj('yards',5)">+</button>
        <span class="dist-unit">YDS</span>
      </div>
    </div>

    <!-- Shot type -->
    <div class="cp-sec" style="flex:1;min-width:200px">
      <div class="cp-sec-title">Shot Type &nbsp;<span class="auto-badge" id="autoBadge">AUTO</span></div>
      <div class="pill-row" id="stPills">
        <button class="pill" data-st="TEE"      onclick="setST('TEE',this)">üèå Tee</button>
        <button class="pill" data-st="APPROACH" onclick="setST('APPROACH',this)">üéØ Approach</button>
        <button class="pill" data-st="CHIP"     onclick="setST('CHIP',this)">‚õ≥ Chip</button>
        <button class="pill" data-st="PUTT"     onclick="setST('PUTT',this)">üü£ Putt</button>
      </div>
    </div>

    <!-- Hole result -->
    <div class="cp-sec" style="flex:1;min-width:220px">
      <div class="cp-sec-title">Hole Result <span style="color:var(--c-muted);font-size:8px">(tap when done)</span></div>
      <div class="pill-row" id="resPills">
        <button class="pill" data-r="ace"    onclick="setRes('ace',this)">‚≠ê Ace</button>
        <button class="pill" data-r="eagle"  onclick="setRes('eagle',this)">ü¶Ö Eagle</button>
        <button class="pill" data-r="birdie" onclick="setRes('birdie',this)">üê¶ Birdie</button>
        <button class="pill" data-r="par"    onclick="setRes('par',this)">üîµ Par</button>
        <button class="pill" data-r="bogey"  onclick="setRes('bogey',this)">‚¨ú Bogey</button>
        <button class="pill" data-r="double" onclick="setRes('double',this)">‚¨õ Dbl</button>
        <button class="pill" data-r="worse"  onclick="setRes('worse',this)">üî∫ +3</button>
      </div>
    </div>

  </div><!-- /cp-rows -->

  <!-- Action buttons -->
  <div class="act-row">
    <button class="btn-next" onclick="nextShot()">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M5 12h14M13 6l6 6-6 6"/></svg>
      NEXT SHOT
    </button>
    <button class="btn-newhole" onclick="newHole()">‚õ≥ NEW HOLE</button>
    <button class="btn-undo" id="btnUndo" onclick="undo()" title="Undo" disabled>‚Ü©</button>
  </div>

  <!-- Export -->
  <div class="exp-row">
    <button class="btn-export" id="btnExport" onclick="takeSnapshot()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/>
      </svg>
      EXPORT PNG
    </button>
    <button class="fmt-btn on" id="fmtT" onclick="setFmt('transparent',this)">Transparent</button>
    <button class="fmt-btn"    id="fmtB" onclick="setFmt('black',this)">Black BG</button>
    <select class="res-sel" id="resSel">
      <option value="1080">1920√ó1080</option>
      <option value="2160">3840√ó2160</option>
    </select>
    <span class="exp-fb" id="expFb"></span>
  </div>

</div><!-- /ctrl-panel -->

<!-- ‚îÄ‚îÄ STATUS BAR ‚îÄ‚îÄ -->
<div class="statusbar">
  <div class="live-dot"></div>
  <span id="sbText">Hole 1 ¬∑ Par 4 ¬∑ Shot 1 ¬∑ TEE SHOT</span>
  <span style="margin-left:auto;font-size:9px;opacity:.4" id="sbStore">localStorage ‚úì</span>
</div>

</div><!-- /app -->

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  CONSTANTS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const PAR_DEF   = {3:165,4:385,5:520};
const TYPE_LBL  = {TEE:'TEE SHOT',APPROACH:'APPROACH',CHIP:'CHIP',PUTT:'PUTTING'};
const TYPE_CLS  = {TEE:'tee',APPROACH:'approach',CHIP:'chip',PUTT:'putt'};
const RES_LBL   = {ace:'HOLE IN ONE',eagle:'EAGLE',birdie:'BIRDIE',par:'PAR',bogey:'BOGEY',double:'DOUBLE BOGEY',worse:'+3 BOGEY'};
const RES_COL_CANVAS = {ace:'#fbbf24',eagle:'#fbbf24',birdie:'#f87171',par:'#60a5fa',bogey:'#9ca3af',double:'#6b7280',worse:'#6b7280'};
const DOT_COL   = {tee:'#ffffff',approach:'#60a5fa',chip:'#f59e0b',putt:'#a78bfa'};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const DFLT = {holeNumber:1,par:4,yards:385,holeYards:385,shotIndex:1,shotType:'TEE',manualType:false,holeResult:null,showYards:true,showStatus:true};
let S  = {...DFLT};
let H  = [];  // undo stack
let FMT = 'transparent';

function inferType(par,shot){
  if(shot===1) return 'TEE';
  const d=shot-par;
  if(d>=0) return 'PUTT';
  if(par===3) return 'PUTT';
  if(par===4) return shot===2?'APPROACH':'PUTT';
  if(par===5){ if(shot===2)return 'APPROACH'; if(shot===3)return 'CHIP'; return 'PUTT'; }
  return 'TEE';
}

function push(partial){
  H.push({...S}); if(H.length>40)H.shift();
  Object.assign(S,partial);
  save(); render();
}

function undo(){
  if(!H.length)return;
  S=H.pop(); save(); render();
}

function resetHole(){
  H.push({...S});
  const next=S.holeNumber>=18?1:S.holeNumber+1;
  S={...DFLT,holeNumber:next,par:S.par,yards:PAR_DEF[S.par],holeYards:PAR_DEF[S.par],showYards:S.showYards,showStatus:S.showStatus};
  save(); render();
}

function save(){
  try{ localStorage.setItem('gv2',JSON.stringify(S)); }
  catch(e){ document.getElementById('sbStore').textContent='localStorage ‚úó'; }
}
function load(){
  try{
    const r=localStorage.getItem('gv2');
    if(r) S={...DFLT,...JSON.parse(r)};
  }catch(e){}
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  CONTROL HANDLERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function adj(key,d){ const n=clamp(S[key]+d,key); push({[key]:n}); }
function inp(key,v,mn,mx){ push({[key]:Math.max(mn,Math.min(mx,parseInt(v)||mn))}); }
function clamp(v,key){ if(key==='holeNumber')return Math.max(1,Math.min(18,v)); if(key==='yards')return Math.max(0,Math.min(700,v)); return v; }

function setPar(p,btn){
  push({par:p,yards:PAR_DEF[p],holeYards:PAR_DEF[p]});
}

function setST(t,btn){ push({shotType:t,manualType:true}); }
function setRes(r,btn){ push({holeResult:S.holeResult===r?null:r}); }
function togOpt(key){ push({[key]:!S[key]}); }

function nextShot(){
  const next=S.shotIndex+1;
  const t=S.manualType?S.shotType:inferType(S.par,next);
  push({shotIndex:next,shotType:t,manualType:false});
}
function newHole(){ resetHole(); }
function setFmt(f,btn){ FMT=f; document.querySelectorAll('.fmt-btn').forEach(b=>b.classList.remove('on')); btn.classList.add('on'); }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  RENDER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function render(){
  const {holeNumber,par,yards,shotIndex,shotType,holeResult,showYards,showStatus,manualType}=S;

  // Left block
  document.getElementById('ovNum').textContent=holeNumber;
  document.getElementById('ovPar').textContent='PAR '+par;

  // Yards
  const yl=shotIndex===1?'HOLE':'TO PIN';
  document.getElementById('ovYardsLbl').textContent=yl;
  document.getElementById('ovYardsVal').innerHTML=yards+'<span class="ov-yards-unit">YDS</span>';
  document.getElementById('ovYardsBlock').style.display=showYards?'':'none';
  document.getElementById('ovVsep').style.display=showYards?'':'none';

  // Shot type
  const tc=TYPE_CLS[shotType]||'tee';
  document.getElementById('ovDot').className='ov-type-dot dt-'+tc;
  document.getElementById('ovTypeTxt').className='ov-type-txt tt-'+tc;
  document.getElementById('ovTypeTxt').textContent=TYPE_LBL[shotType]||shotType;
  document.getElementById('ovType').style.display=showStatus?'':'none';

  // Result badge
  const rb=document.getElementById('ovResult');
  rb.className='ov-result'+(holeResult?' vis rr-'+holeResult:'');
  rb.textContent=holeResult?RES_LBL[holeResult]||holeResult.toUpperCase():'';

  // Pips
  renderPips(par,shotIndex);

  // --- Sync controls ---
  document.getElementById('inHole').value=holeNumber;
  document.getElementById('inYards').value=yards;
  // par
  document.querySelectorAll('.par-btn').forEach(b=>b.classList.toggle('on',parseInt(b.textContent)===par));
  // shot type pills
  document.querySelectorAll('#stPills .pill').forEach(b=>{
    const t=b.getAttribute('data-st');
    b.className='pill'+(t===shotType?' on-'+TYPE_CLS[t]:'');
  });
  // result pills
  document.querySelectorAll('#resPills .pill').forEach(b=>{
    const r=b.getAttribute('data-r');
    b.className='pill'+(r===holeResult?' on-'+r:'');
  });
  // checkboxes
  document.getElementById('chkYards').classList.toggle('on',showYards);
  document.getElementById('chkStatus').classList.toggle('on',showStatus);
  document.getElementById('distRow').style.display=showYards?'':'none';
  // auto badge
  document.getElementById('autoBadge').style.opacity=manualType?'0.3':'1';
  // undo
  document.getElementById('btnUndo').disabled=!H.length;
  // status bar
  document.getElementById('sbText').textContent=`Hole ${holeNumber} ¬∑ Par ${par} ¬∑ Shot ${shotIndex} ¬∑ ${TYPE_LBL[shotType]||shotType}${holeResult?' ¬∑ '+(RES_LBL[holeResult]||holeResult):''}`;

  scaleOv();
}

function renderPips(par,shot){
  const row=document.getElementById('ovPips');
  const max=Math.max(par,shot);
  let h='<div class="ov-pips-lbl">SHOT</div>';
  for(let i=1;i<=max;i++){
    const c=i<shot?'done':i===shot?'cur':'empty';
    h+=`<div class="pip ${c}">${i}</div>`;
  }
  row.innerHTML=h;
}

// scale overlay to fit preview
function scaleOv(){
  const inner=document.querySelector('.preview-inner');
  const ov=document.getElementById('ov');
  if(!inner||!ov)return;
  const fw=inner.offsetWidth;
  const target=fw*0.36;
  const nw=ov.scrollWidth;
  const sc=nw>0?Math.min(1.6,Math.max(0.3,target/nw)):1;
  document.getElementById('ovAnchor').style.transform=`scale(${sc})`;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  ASPECT & SAFE ZONE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const ASP_LABELS={'169':'16 : 9','916':'9 : 16','11':'1 : 1'};
function setAsp(asp,btn){
  const f=document.getElementById('previewFrame');
  f.setAttribute('data-asp',asp);
  document.querySelectorAll('.asp-btn').forEach(b=>b.classList.remove('on'));
  btn.classList.add('on');
  document.getElementById('previewBg').textContent=ASP_LABELS[asp]+' ¬∑ PREVIEW';
  setTimeout(scaleOv,60);
}
function toggleSafe(){
  const f=document.getElementById('previewFrame');
  const btn=document.getElementById('btnSafe');
  const hidden=f.classList.toggle('safe-hidden');
  btn.classList.toggle('on',!hidden);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  CANVAS EXPORT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function takeSnapshot(){
  const res=parseInt(document.getElementById('resSel').value)||1080;
  // Logical overlay dims
  const W=460,H=96;
  const SCALE=(res/1920)*(1920/W)*1;
  const canvas=document.createElement('canvas');
  canvas.width=Math.round(W*SCALE); canvas.height=Math.round(H*SCALE);
  const ctx=canvas.getContext('2d');
  ctx.scale(SCALE,SCALE);

  if(FMT==='black'){ctx.fillStyle='#000';ctx.fillRect(0,0,W,H);}

  const LW=88,DVW=3,RX=91,RW=W-RX,TH=68,BH=28;

  // Green left
  ctx.fillStyle='#00573F'; ctx.fillRect(0,0,LW,H);
  ctx.textAlign='center'; ctx.textBaseline='middle';
  ctx.fillStyle='rgba(255,255,255,.48)'; ctx.letterSpacing='2px';
  ctx.font='600 7.5px "Barlow Condensed",sans-serif';
  ctx.fillText('HOLE',LW/2,16);
  ctx.fillStyle='#fff'; ctx.font='900 40px "Barlow Condensed",sans-serif'; ctx.letterSpacing='-2px';
  ctx.fillText(String(S.holeNumber),LW/2,48);
  ctx.fillStyle='#C9A84C'; ctx.font='700 9px "Barlow Condensed",sans-serif'; ctx.letterSpacing='1px';
  ctx.fillText('PAR '+S.par,LW/2,78);

  // Divider
  ctx.fillStyle='#C9A84C'; ctx.fillRect(LW,0,DVW,H);

  // Right bg
  ctx.fillStyle='rgba(6,10,16,.97)'; ctx.fillRect(RX,0,RW,H);
  ctx.fillStyle='rgba(255,255,255,.05)'; ctx.fillRect(RX,TH,RW,1);
  ctx.fillStyle='rgba(0,0,0,.28)'; ctx.fillRect(RX,TH+1,RW,BH-1);

  const pX=RX+16;

  // Yards
  if(S.showYards){
    const yl=S.shotIndex===1?'HOLE':'TO PIN';
    ctx.textAlign='left'; ctx.textBaseline='middle';
    ctx.letterSpacing='2.5px'; ctx.fillStyle='rgba(255,255,255,.35)';
    ctx.font='600 7px "Barlow Condensed",sans-serif';
    ctx.fillText(yl,pX,15);
    ctx.letterSpacing='-1px'; ctx.fillStyle='rgba(255,255,255,.92)';
    ctx.font='900 30px "Barlow Condensed",sans-serif';
    ctx.fillText(String(S.yards),pX,43);
    const yw=ctx.measureText(String(S.yards)).width;
    ctx.letterSpacing='0'; ctx.fillStyle='rgba(255,255,255,.28)';
    ctx.font='500 9px "Barlow Condensed",sans-serif';
    ctx.fillText('YDS',pX+yw+3,43);
    ctx.fillStyle='rgba(255,255,255,.08)'; ctx.fillRect(pX+yw+22,10,1,36);
  }

  // Shot type
  if(S.showStatus){
    const tc=TYPE_CLS[S.shotType]||'tee';
    const col=DOT_COL[tc]||'#fff';
    const lbl=TYPE_LBL[S.shotType]||S.shotType;
    const sX=S.showYards?pX+ctx.measureText(String(S.yards)).width+32:pX;
    ctx.font='700 12px "Barlow Condensed",sans-serif'; ctx.letterSpacing='2px';
    const dr=3;
    ctx.beginPath(); ctx.arc(sX+dr,TH/2,dr,0,Math.PI*2); ctx.fillStyle=col; ctx.fill();
    ctx.fillStyle=col; ctx.textAlign='left'; ctx.textBaseline='middle';
    ctx.fillText(lbl,sX+dr*2+7,TH/2);
  }

  // Result badge
  if(S.holeResult){
    const rl=RES_LBL[S.holeResult]||S.holeResult.toUpperCase();
    const rc=RES_COL_CANVAS[S.holeResult]||'#9ca3af';
    ctx.font='800 11px "Barlow Condensed",sans-serif'; ctx.letterSpacing='1.5px';
    const rw=ctx.measureText(rl).width;
    const bpad=8,bx=RX+RW-14-rw-bpad*2,by=TH/2-10,bh=20;
    rrect(ctx,bx,by,rw+bpad*2,bh,3);
    ctx.fillStyle='rgba(0,0,0,.35)'; ctx.fill();
    ctx.strokeStyle=rc+'70'; ctx.lineWidth=1; ctx.stroke();
    ctx.fillStyle=rc; ctx.textAlign='left'; ctx.textBaseline='middle';
    ctx.fillText(rl,bx+bpad,TH/2);
  }

  // Pips
  const max=Math.max(S.par,S.shotIndex);
  const pW=24,pH=15,pG=4; let sx=RX+12+36; const sy=TH+1+(BH-pH)/2;
  ctx.letterSpacing='2px'; ctx.fillStyle='rgba(255,255,255,.2)';
  ctx.font='600 7px "Barlow Condensed",sans-serif'; ctx.textAlign='left'; ctx.textBaseline='middle';
  ctx.fillText('SHOT',RX+12,TH+BH/2);
  for(let i=1;i<=max;i++){
    const iC=i===S.shotIndex,iP=i<S.shotIndex,r=2;
    rrect(ctx,sx,sy,pW,pH,r);
    if(iC)ctx.fillStyle='#C9A84C';
    else if(iP)ctx.fillStyle='rgba(255,255,255,.15)';
    else{ctx.fillStyle='rgba(255,255,255,.05)';ctx.strokeStyle='rgba(255,255,255,.09)';ctx.lineWidth=1;ctx.stroke();}
    ctx.fill();
    ctx.letterSpacing='0'; ctx.font='800 9px "Barlow Condensed",sans-serif'; ctx.textAlign='center'; ctx.textBaseline='middle';
    ctx.fillStyle=iC?'#000':iP?'rgba(255,255,255,.4)':'rgba(255,255,255,.1)';
    ctx.fillText(String(i),sx+pW/2,sy+pH/2+.5);
    sx+=pW+pG;
  }

  // Download
  const ts=S.shotType.toLowerCase();
  const rs=S.holeResult?'_'+S.holeResult:'';
  const ys=S.showYards?'_'+S.yards+'yd':'';
  const fn=`hole${pad(S.holeNumber)}_shot${pad(S.shotIndex)}_${ts}${ys}${rs}.png`;
  const a=document.createElement('a'); a.download=fn; a.href=canvas.toDataURL('image/png'); a.click();

  const fb=document.getElementById('expFb');
  fb.textContent='‚úì '+fn; fb.classList.add('vis');
  const btn=document.getElementById('btnExport'); btn.disabled=true;
  setTimeout(()=>{fb.classList.remove('vis');btn.disabled=false;},3000);
}

function rrect(ctx,x,y,w,h,r){
  ctx.beginPath();
  ctx.moveTo(x+r,y); ctx.lineTo(x+w-r,y); ctx.quadraticCurveTo(x+w,y,x+w,y+r);
  ctx.lineTo(x+w,y+h-r); ctx.quadraticCurveTo(x+w,y+h,x+w-r,y+h);
  ctx.lineTo(x+r,y+h); ctx.quadraticCurveTo(x,y+h,x,y+h-r);
  ctx.lineTo(x,y+r); ctx.quadraticCurveTo(x,y,x+r,y); ctx.closePath();
}
function pad(n){return String(n).padStart(2,'0')}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
load(); render();

window.addEventListener('resize',scaleOv);
document.addEventListener('keydown',e=>{
  if(e.target.tagName==='INPUT'||e.target.tagName==='SELECT') return;
  if(e.key==='ArrowRight'||e.key==='n') nextShot();
  if(e.key==='z'&&(e.metaKey||e.ctrlKey)) { e.preventDefault(); undo(); }
  if(e.key==='Enter') takeSnapshot();
  if(e.key==='N') newHole();
});
</script>
</body>
</html>
